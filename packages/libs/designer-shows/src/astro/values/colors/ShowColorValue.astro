---
import { type ColorFormat, type ColorValue } from '@noodlestan/designer-decisions';

import { DecisionValueContainer } from '../../atoms';
import { LayoutStack } from '../../layouts';
import type { ShowValueProps } from '../../types';
import { resolveColorFormats } from '../../helpers';

type Props = ShowValueProps & {
    v?: ColorValue;
};

const { v: colorValue, value = true } = Astro.props;

const formats = resolveColorFormats(value);
---

{
    value && colorValue !== undefined && (
        <LayoutStack>
            {formats?.map(format => (
                <DecisionValueContainer>{colorValue.toString(format)}</DecisionValueContainer>
            ))}
        </LayoutStack>
    )
}
