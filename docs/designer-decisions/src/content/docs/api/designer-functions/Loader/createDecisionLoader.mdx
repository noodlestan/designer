---
title: createDecisionLoader()
slug: api/designer-functions/Loader/createDecisionLoader
sidebar:
    label: createDecisionLoader
---

```ts
type createDecisionLoader = (options: DecisionLoaderOptions) => () => Promise<StaticStore>;
```

## Return value

**() => Promise&lt;[StaticStore](/api/designer-functions/Store/Types/StaticStore)&gt;**

A loader function that resolves with a populated decision store.

This loader caches the promise on the first call. Any subsequent calls do not result in any schemas or input files being reloaded, yielding the same result as the first one.

#### Loader implementation

Given a list of paths and schemas configs:

-   Loads schemas from paths and creates a schema map.
-   Validates the schema map and creates a validator.
-   Loads all decisions files and merges all data.
-   Validates decision inputs and returns a [StaticStore](/api/designer-functions/Store/Types/StaticStore).

## Params

#### à¼¶ `options`: [DecisionLoaderOptions](/api/designer-functions/Loader/Types/DecisionLoaderOptions)

It is recommended to create the options object directly in a `dd.config.mjs` file in the root of the project and then load it via [loadConfig()](/api/designer-functions/config/loadConfig).

## Usage

**Using `dd.config.mjs` file and `loadConfig()`:**

```ts
import { loadConfig, createDecisionLoader } from '@noodlestan/designer-functions';

const config = await loadConfig();
const loader = createDecisionLoader(config.loader);

const store = await loader();
```

**Building the options object:**

```ts
import { DEMO_DATA } from '@noodlestan/designer-decisions';
import { createDecisionLoader } from '@noodlestan/designer-functions';
import { DECISION_SCHEMAS } from '@noodlestan/designer-schemas';

const options = {
    decisions: [DEMO_DATA, './data'],
    schemas: [DECISION_SCHEMAS],
};
const loader = createDecisionLoader(options);

const store = await loader();
```

## See also

-   [Guides / Loading and Validating](/guides/loading-and-validating-design-decisions/)
-   [Models / Schemas](/models/schemas/)
-   [API / configuration](/api/configuration)
-   [API / designer-functions / DecisionLoaderOptions](/api/designer-functions/Loader/Types/DecisionLoaderOptions)
